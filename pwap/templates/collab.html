{% extends 'base.html' %}

{% block title %}
Learner collaborative
{% endblock title %}

{% block content %}

<div class="panel panel-default">
  <div class="panel-heading">
    <h2 class="panel-title">Collaborative styleguide generation</h2>
  </div>

  <div class="panel-body">
    <div class="row">
      <div class="col-md-4">
        <div class="panel-body">
          <form action="" method="get">
            <div class="form-group">
              <label for="inputNewElement">Enter a new type of element</label>
              <input type="text" class="form-control" id="inputNewElement" placeholder="e. g. button"/>
              <input type="submit" style="display:none"/>
            </div>
          </form>
          <div class="list-group" id="element-list">
            <p id="element-list-empty-message">No tags entered yet</p>
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <h2 class="panel-title" style="font-size: 20px;">Mockup</h2>
        <img src="/static/img/LI_mockup.png" width="800px"/>
      </div>
    </div>
  </div>

</div>

{% endblock content %}

{% block script %}
<script type="text/javascript">
  function create(htmlStr) {
      var frag = document.createDocumentFragment(),
          temp = document.createElement('div');
      temp.innerHTML = htmlStr;
      while (temp.firstChild) {
          frag.appendChild(temp.firstChild);
      }
      return frag;
  }
  $('form').on('submit', function() {
    var newElementType = this.elements[0].value;
    var fragment = create('<a href="#" class="list-group-item">' + newElementType + '</a>');
    var list = document.getElementById('element-list');
    list.insertBefore(fragment, list.childNodes[0]);
    list.removeChild(document.getElementById('element-list-empty-message'));
  });
</script>
{% endblock script %}